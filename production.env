# BIMCalc Production Environment Configuration
# Generated for DigitalOcean Deployment

# ============================================================================
# Security (CRITICAL)
# ============================================================================
SECRET_KEY=rM4S_j-wcoazEifH0JFdhZD9ioT-GoG9XUT8C77KGi8
BIMCALC_AUTH_DISABLED=false

# ============================================================================
# Database
# ============================================================================
# Note: In docker-compose.prod.yml, the host is 'db'
DATABASE_URL=postgresql+asyncpg://bimcalc:changeme@db:5432/bimcalc

# ============================================================================
# BIMCalc Core Settings
# ============================================================================
DEFAULT_ORG_ID=acme-construction
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# Locale & Currency
# ============================================================================
DEFAULT_CURRENCY=EUR
VAT_INCLUDED=true
VAT_RATE=0.23

# ============================================================================
# Matching Thresholds
# ============================================================================
FUZZY_MIN_SCORE=70
AUTO_ACCEPT_MIN_CONFIDENCE=85
SIZE_TOLERANCE_MM=10
ANGLE_TOLERANCE_DEG=5
DN_TOLERANCE_MM=5
MAX_CANDIDATES_PER_ITEM=50
CLASS_BLOCKING_ENABLED=true

# ============================================================================
# Database Performance
# ============================================================================
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30
DB_ECHO=false

# ============================================================================
# OpenAI API (Required for Intelligence Features)
# ============================================================================
OPENAI_API_KEY=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
EMBEDDINGS_MODEL=text-embedding-3-large
LLM_MODEL=gpt-4-1106-preview
VECTOR_INDEX_TYPE=ivfflat
VECTOR_LISTS=100

# ============================================================================
# Classification Mapping Module (CMM)
# ============================================================================
USE_CMM=true
CMM_CONFIG_DIR=config/vendors

# ============================================================================
# Crail4 AI Integration
# ============================================================================
CRAIL4_API_KEY=dummy_key
CRAIL4_BASE_URL=https://www.crawl4ai-cloud.com/query
CRAIL4_SOURCE_URL=https://www.tlc-direct.co.uk/Main_Index/Wiring_Accessories_Menu_Index/A_White_All/BG_NEXUS/index.html

# ============================================================================
# Headless Browser (Playwright)
# ============================================================================
PLAYWRIGHT_CDP_URL=ws://browser:3000

# ============================================================================
# Redis
# ============================================================================
REDIS_URL=redis://redis:6379
